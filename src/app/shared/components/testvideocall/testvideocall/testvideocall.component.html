<app-header  *ngIf="roles === 'ROLE_USER'"></app-header>
<app-header-doctor *ngIf="roles === 'ROLE_DOCTOR'" ></app-header-doctor>
<div class="container-xl">
  <div class="bg-gray-200 rounded-2xl mt-3 p-4 text-center">
    <p class="font-bold text-[25px]">
      TeleMediConnect - Nền tảng khám bệnh trực tuyến
    </p>
  </div>
  <span  *ngIf="roles === 'ROLE_DOCTOR'">PeerId: {{ peerId }} &nbsp;</span>
  <button (click)="callPatients()" class="you" *ngIf="roles === 'ROLE_DOCTOR'">Gọi</button>
  <div class="mt-5" *ngIf="roles === 'ROLE_USER'">
    <input
      type="text "
      class="border-black"
      placeholder="Id cuộc gọi"
      [(ngModel)]="peerIdShare"
    />
    <button class="button you" (click)="connectWithPeer()">Gọi</button>
    <!--  -->
  </div>
  <!-- Video call -->
  <div class="flex flex-wrap " style="border: 1px solid;width: 100%;height: 973px;">
    <!-- Video người được gọi -->
    <div
    class=""
    style="width: 100%;height: 973px;position: relative;z-index: 2;"
    id="remote-video"
  >

    <video id="video"></video>
  </div>
  <!--  -->
  <!-- Video người gọi -->
  <div id="my-video" style=" position: relative;
  bottom: 100.2%;
  left: 1036px;
  z-index: 5;
  width: 20%;">
    <video id="local-video" autoplay></video>
  </div>
  <!--  -->
  </div>

  <!-- End video call -->
  <div
    class="video-call-actions"
    style="position: relative; top: 60%; left: 31%"
  >
    <button class="video-action-button mic" (click)="toggleMicrophone()"></button>
    <button class="video-action-button camera" (click)="toggleVideo()"></button>
    <button
      class="video-action-button maximize"
      (click)="screenShare()"
    ></button>
    <button class="video-action-button endcall" (click)="endCall()">Leave</button>
    <button class="video-action-button magnifier">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
        class="feather feather-zoom-in"
        viewBox="0 0 24 24"
      >
        <circle cx="11" cy="11" r="8" />
        <path d="M21 21l-4.35-4.35M11 8v6M8 11h6" />
      </svg>
      <span>100%</span>
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
        class="feather feather-zoom-out"
      >
        <circle cx="11" cy="11" r="8" />
        <line x1="21" y1="21" x2="16.65" y2="16.65" />
        <line x1="8" y1="11" x2="14" y2="11" />
      </svg>
    </button>
  </div>

</div>
<!-- Video & screen share container -->

<app-footer></app-footer>
